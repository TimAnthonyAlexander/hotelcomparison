{
    "generated_at": "2025-09-11T20:04:12+00:00",
    "plan": [
        {
            "op": "create_table",
            "table": "hotels",
            "columns": {
                "title": {
                    "name": "title",
                    "type": "TEXT",
                    "nullable": false,
                    "default": null,
                    "is_pk": false
                },
                "address": {
                    "name": "address",
                    "type": "TEXT",
                    "nullable": false,
                    "default": null,
                    "is_pk": false
                },
                "rating": {
                    "name": "rating",
                    "type": "REAL",
                    "nullable": false,
                    "default": null,
                    "is_pk": false
                },
                "description": {
                    "name": "description",
                    "type": "TEXT",
                    "nullable": false,
                    "default": null,
                    "is_pk": false
                },
                "id": {
                    "name": "id",
                    "type": "TEXT",
                    "nullable": false,
                    "default": null,
                    "is_pk": true
                },
                "created_at": {
                    "name": "created_at",
                    "type": "DATETIME",
                    "nullable": true,
                    "default": "CURRENT_TIMESTAMP",
                    "is_pk": false
                },
                "updated_at": {
                    "name": "updated_at",
                    "type": "DATETIME",
                    "nullable": true,
                    "default": "CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP",
                    "is_pk": false
                }
            },
            "destructive": false
        },
        {
            "op": "add_index",
            "table": "hotels",
            "index": {
                "name": "idx_hotels_title",
                "column": "title",
                "type": "index"
            },
            "destructive": false
        },
        {
            "op": "add_index",
            "table": "hotels",
            "index": {
                "name": "idx_hotels_rating",
                "column": "rating",
                "type": "index"
            },
            "destructive": false
        },
        {
            "op": "create_table",
            "table": "offers",
            "columns": {
                "price": {
                    "name": "price",
                    "type": "REAL",
                    "nullable": false,
                    "default": null,
                    "is_pk": false
                },
                "room_id": {
                    "name": "room_id",
                    "type": "CHAR(36)",
                    "nullable": false,
                    "default": null,
                    "is_pk": false
                },
                "id": {
                    "name": "id",
                    "type": "TEXT",
                    "nullable": false,
                    "default": null,
                    "is_pk": true
                },
                "created_at": {
                    "name": "created_at",
                    "type": "DATETIME",
                    "nullable": true,
                    "default": "CURRENT_TIMESTAMP",
                    "is_pk": false
                },
                "updated_at": {
                    "name": "updated_at",
                    "type": "DATETIME",
                    "nullable": true,
                    "default": "CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP",
                    "is_pk": false
                }
            },
            "destructive": false
        },
        {
            "op": "add_index",
            "table": "offers",
            "index": {
                "name": "idx_offers_price",
                "column": "price",
                "type": "index"
            },
            "destructive": false
        },
        {
            "op": "add_fk",
            "table": "offers",
            "fk": {
                "name": "fk_offers_room_id",
                "column": "room_id",
                "ref_table": "rooms",
                "ref_column": "id",
                "on_delete": "RESTRICT",
                "on_update": "CASCADE"
            },
            "destructive": false
        },
        {
            "op": "create_table",
            "table": "rooms",
            "columns": {
                "title": {
                    "name": "title",
                    "type": "TEXT",
                    "nullable": false,
                    "default": null,
                    "is_pk": false
                },
                "type": {
                    "name": "type",
                    "type": "TEXT",
                    "nullable": false,
                    "default": null,
                    "is_pk": false
                },
                "capacity": {
                    "name": "capacity",
                    "type": "INTEGER",
                    "nullable": false,
                    "default": null,
                    "is_pk": false
                },
                "hotel_id": {
                    "name": "hotel_id",
                    "type": "CHAR(36)",
                    "nullable": false,
                    "default": null,
                    "is_pk": false
                },
                "id": {
                    "name": "id",
                    "type": "TEXT",
                    "nullable": false,
                    "default": null,
                    "is_pk": true
                },
                "created_at": {
                    "name": "created_at",
                    "type": "DATETIME",
                    "nullable": true,
                    "default": "CURRENT_TIMESTAMP",
                    "is_pk": false
                },
                "updated_at": {
                    "name": "updated_at",
                    "type": "DATETIME",
                    "nullable": true,
                    "default": "CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP",
                    "is_pk": false
                }
            },
            "destructive": false
        },
        {
            "op": "add_index",
            "table": "rooms",
            "index": {
                "name": "idx_rooms_title",
                "column": "title",
                "type": "index"
            },
            "destructive": false
        },
        {
            "op": "add_index",
            "table": "rooms",
            "index": {
                "name": "idx_rooms_type",
                "column": "type",
                "type": "index"
            },
            "destructive": false
        },
        {
            "op": "add_fk",
            "table": "rooms",
            "fk": {
                "name": "fk_rooms_hotel_id",
                "column": "hotel_id",
                "ref_table": "hotels",
                "ref_column": "id",
                "on_delete": "RESTRICT",
                "on_update": "CASCADE"
            },
            "destructive": false
        },
        {
            "op": "create_table",
            "table": "users",
            "columns": {
                "name": {
                    "name": "name",
                    "type": "TEXT",
                    "nullable": false,
                    "default": null,
                    "is_pk": false
                },
                "password": {
                    "name": "password",
                    "type": "TEXT",
                    "nullable": false,
                    "default": null,
                    "is_pk": false
                },
                "email": {
                    "name": "email",
                    "type": "TEXT",
                    "nullable": false,
                    "default": null,
                    "is_pk": false
                },
                "active": {
                    "name": "active",
                    "type": "INTEGER",
                    "nullable": false,
                    "default": null,
                    "is_pk": false
                },
                "id": {
                    "name": "id",
                    "type": "TEXT",
                    "nullable": false,
                    "default": null,
                    "is_pk": true
                },
                "created_at": {
                    "name": "created_at",
                    "type": "DATETIME",
                    "nullable": true,
                    "default": "CURRENT_TIMESTAMP",
                    "is_pk": false
                },
                "updated_at": {
                    "name": "updated_at",
                    "type": "DATETIME",
                    "nullable": true,
                    "default": "CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP",
                    "is_pk": false
                }
            },
            "destructive": false
        },
        {
            "op": "add_index",
            "table": "users",
            "index": {
                "name": "uniq_users_email",
                "column": "email",
                "type": "unique"
            },
            "destructive": false
        }
    ],
    "applied_at": "2025-09-11T20:04:17+00:00"
}