{
    "generated_at": "2025-09-11T19:41:26+00:00",
    "plan": [
        {
            "op": "create_table",
            "table": "hotels",
            "columns": {
                "title": {
                    "name": "title",
                    "type": "TEXT",
                    "nullable": false,
                    "default": null,
                    "is_pk": false
                },
                "address": {
                    "name": "address",
                    "type": "TEXT",
                    "nullable": false,
                    "default": null,
                    "is_pk": false
                },
                "rating": {
                    "name": "rating",
                    "type": "REAL",
                    "nullable": false,
                    "default": null,
                    "is_pk": false
                },
                "description": {
                    "name": "description",
                    "type": "TEXT",
                    "nullable": false,
                    "default": null,
                    "is_pk": false
                },
                "id": {
                    "name": "id",
                    "type": "TEXT",
                    "nullable": false,
                    "default": null,
                    "is_pk": true
                },
                "created_at": {
                    "name": "created_at",
                    "type": "DATETIME",
                    "nullable": true,
                    "default": "CURRENT_TIMESTAMP",
                    "is_pk": false
                },
                "updated_at": {
                    "name": "updated_at",
                    "type": "DATETIME",
                    "nullable": true,
                    "default": "CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP",
                    "is_pk": false
                }
            },
            "destructive": false
        },
        {
            "op": "add_index",
            "table": "hotels",
            "index": {
                "name": "idx_hotels_title",
                "column": "title",
                "type": "index"
            },
            "destructive": false
        },
        {
            "op": "add_index",
            "table": "hotels",
            "index": {
                "name": "idx_hotels_rating",
                "column": "rating",
                "type": "index"
            },
            "destructive": false
        },
        {
            "op": "create_table",
            "table": "offers",
            "columns": {
                "price": {
                    "name": "price",
                    "type": "REAL",
                    "nullable": false,
                    "default": null,
                    "is_pk": false
                },
                "room_id": {
                    "name": "room_id",
                    "type": "TEXT",
                    "nullable": false,
                    "default": null,
                    "is_pk": false
                },
                "id": {
                    "name": "id",
                    "type": "TEXT",
                    "nullable": false,
                    "default": null,
                    "is_pk": true
                },
                "created_at": {
                    "name": "created_at",
                    "type": "DATETIME",
                    "nullable": true,
                    "default": "CURRENT_TIMESTAMP",
                    "is_pk": false
                },
                "updated_at": {
                    "name": "updated_at",
                    "type": "DATETIME",
                    "nullable": true,
                    "default": "CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP",
                    "is_pk": false
                }
            },
            "destructive": false
        },
        {
            "op": "add_index",
            "table": "offers",
            "index": {
                "name": "idx_offers_price",
                "column": "price",
                "type": "index"
            },
            "destructive": false
        },
        {
            "op": "create_table",
            "table": "rooms",
            "columns": {
                "title": {
                    "name": "title",
                    "type": "TEXT",
                    "nullable": false,
                    "default": null,
                    "is_pk": false
                },
                "type": {
                    "name": "type",
                    "type": "TEXT",
                    "nullable": false,
                    "default": null,
                    "is_pk": false
                },
                "capacity": {
                    "name": "capacity",
                    "type": "INTEGER",
                    "nullable": false,
                    "default": null,
                    "is_pk": false
                },
                "hotel_id": {
                    "name": "hotel_id",
                    "type": "TEXT",
                    "nullable": false,
                    "default": null,
                    "is_pk": false
                },
                "id": {
                    "name": "id",
                    "type": "TEXT",
                    "nullable": false,
                    "default": null,
                    "is_pk": true
                },
                "created_at": {
                    "name": "created_at",
                    "type": "DATETIME",
                    "nullable": true,
                    "default": "CURRENT_TIMESTAMP",
                    "is_pk": false
                },
                "updated_at": {
                    "name": "updated_at",
                    "type": "DATETIME",
                    "nullable": true,
                    "default": "CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP",
                    "is_pk": false
                }
            },
            "destructive": false
        },
        {
            "op": "add_index",
            "table": "rooms",
            "index": {
                "name": "idx_rooms_title",
                "column": "title",
                "type": "index"
            },
            "destructive": false
        },
        {
            "op": "add_index",
            "table": "rooms",
            "index": {
                "name": "idx_rooms_type",
                "column": "type",
                "type": "index"
            },
            "destructive": false
        },
        {
            "op": "modify_column",
            "table": "users",
            "column": {
                "name": "name",
                "type": "TEXT",
                "nullable": false,
                "default": null,
                "is_pk": false
            },
            "old_column": {
                "name": "name",
                "type": "text",
                "nullable": false,
                "default": null,
                "is_pk": false
            },
            "destructive": true
        },
        {
            "op": "modify_column",
            "table": "users",
            "column": {
                "name": "password",
                "type": "TEXT",
                "nullable": false,
                "default": null,
                "is_pk": false
            },
            "old_column": {
                "name": "password",
                "type": "text",
                "nullable": false,
                "default": null,
                "is_pk": false
            },
            "destructive": true
        },
        {
            "op": "modify_column",
            "table": "users",
            "column": {
                "name": "email",
                "type": "TEXT",
                "nullable": false,
                "default": null,
                "is_pk": false
            },
            "old_column": {
                "name": "email",
                "type": "text",
                "nullable": false,
                "default": null,
                "is_pk": false
            },
            "destructive": true
        },
        {
            "op": "modify_column",
            "table": "users",
            "column": {
                "name": "active",
                "type": "INTEGER",
                "nullable": false,
                "default": null,
                "is_pk": false
            },
            "old_column": {
                "name": "active",
                "type": "integer",
                "nullable": false,
                "default": null,
                "is_pk": false
            },
            "destructive": true
        },
        {
            "op": "modify_column",
            "table": "users",
            "column": {
                "name": "id",
                "type": "TEXT",
                "nullable": false,
                "default": null,
                "is_pk": true
            },
            "old_column": {
                "name": "id",
                "type": "text",
                "nullable": false,
                "default": null,
                "is_pk": true
            },
            "destructive": true
        },
        {
            "op": "modify_column",
            "table": "users",
            "column": {
                "name": "created_at",
                "type": "DATETIME",
                "nullable": true,
                "default": "CURRENT_TIMESTAMP",
                "is_pk": false
            },
            "old_column": {
                "name": "created_at",
                "type": "datetime",
                "nullable": true,
                "default": "CURRENT_TIMESTAMP",
                "is_pk": false
            },
            "destructive": true
        },
        {
            "op": "modify_column",
            "table": "users",
            "column": {
                "name": "updated_at",
                "type": "DATETIME",
                "nullable": true,
                "default": "CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP",
                "is_pk": false
            },
            "old_column": {
                "name": "updated_at",
                "type": "datetime",
                "nullable": true,
                "default": "CURRENT_TIMESTAMP",
                "is_pk": false
            },
            "destructive": true
        }
    ],
    "applied_at": "2025-09-11T19:41:33+00:00"
}